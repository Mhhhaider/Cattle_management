{% include 'base3.html' %}
{% load static %}

<body>
<main id="main" class="main">

<section class="section">
  <div class="row">
    <div class="col-lg-12">
      <div class="card bg-light">
        <div class="card-body py-4">

<section class="main-sec">

{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-danger {{ message.tags }} alert-dismissible fade show" role="alert">
        <h5 class="text-center">{{ message }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
    {% endfor %}
  </div>
{% endif %}

<div class="container">
  <div class="row form-div">

    <h3>Add Income</h3>

    <form method="POST">
      {% csrf_token %}

      <div class="row">

        <!-- Cattle -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Cattle</label>
          <select name="cattle" class="form-control border-0 shadow-sm py-3 rounded-0">
            <option value="">Select Cattle</option>
            {% for cattle in cattles %}
              <option value="{{ cattle.id }}">{{ cattle.name }} ({{ cattle.batch.name }})</option>
            {% endfor %}
          </select>
        </div>

        <!-- Batch (Optional) -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Batch (Optional)</label>
          <select name="batch" class="form-control border-0 shadow-sm py-3 rounded-0">
            <option value="">Select Batch</option>
            {% for batch in batches %}
              <option value="{{ batch.id }}">{{ batch.name }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Income Date -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Income Date</label>
          <input type="date" name="income_date" value="{{ today }}"
                 class="form-control border-0 shadow-sm py-3 rounded-0">
        </div>

        <!-- Amount -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Amount</label>
          <input type="number" step="0.01" name="amount"
                 class="form-control border-0 shadow-sm py-3 rounded-0" required>
        </div>

      </div>

      <div class="row mt-3">

        <!-- Source -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Source</label>
          <select name="source" class="form-select border-0 shadow-sm py-3 rounded-0" required>
            <option value="">Select a source</option>
            <option value="milk_sale">Milk Sale</option>
            <option value="animal_sale">Animal Sale</option>
            <option value="other">Other</option>
          </select>
        </div>

      </div>

      <!-- Notes -->
      <div class="row mt-3">
        <div class="col-lg-12">
          <label class="form-label fw-bold">Notes</label>
          <textarea name="notes" rows="4"
                    class="form-control border-0 shadow-sm rounded-0"></textarea>
        </div>
      </div>

      <div class="text-center mt-4">
        <button class="btn btn-success px-4" type="submit">Save</button>
        <a class="btn btn-primary px-4" href="#">View</a>
      </div>

    </form>

  </div>
</div>

</section>

        </div>
      </div>
    </div>
  </div>
</section>

</main>

<footer class="footer">
  <div class="copyright">
    Â© Copyright <strong>J N Roadlines LLP</strong> All Rights Reserved
  </div>
  <div class="credits">
    Designed by <a href="#"><strong>JTECH VENTURES</strong></a>
  </div>
</footer>

<a href="#" class="back-to-top d-flex align-items-center justify-content-center">
  <i class="bi bi-arrow-up-short"></i>
</a>

</body>
