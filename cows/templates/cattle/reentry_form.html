{% include 'base3.html' %}
{% load static %}

<body>
<main id="main" class="main">

<section class="section">
  <div class="row">
    <div class="col-lg-12">
      <div class="card bg-light">
        <div class="card-body py-4">

<section class="main-sec">

{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-danger {{ message.tags }} alert-dismissible fade show" role="alert">
        <h5 class="text-center">{{ message }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
      </div>
    {% endfor %}
  </div>
{% endif %}



<div class="container">
  <h5><strong>Re-Entry Cattle: {{ old_cattle.name }}</strong></h5>
  <div class="row form-div">

    <form method="POST">
      {% csrf_token %}

      <div class="row">

        <!-- Batch -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Batch</label>
          <select name="batch" class="form-control border-0 shadow-sm py-3 rounded-0" required>
            {% for batch in batches %}
              <option value="{{ batch.id }}" {% if batch.id == old_cattle.batch.id %}selected{% endif %}>{{ batch.name }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Tag Name -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Tag Name</label>
          <input type="text" name="name" value="{{ old_cattle.name }}" 
                 class="form-control border-0 shadow-sm py-3 rounded-0" required>
        </div>

        <!-- Age -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Age</label>
          <input type="number" name="age" value="{{ old_cattle.age }}" 
                 class="form-control border-0 shadow-sm py-3 rounded-0" required>
        </div>

        <!-- Breed -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Breed</label>
          <input type="text" name="breed" value="{{ old_cattle.breed }}" 
                 class="form-control border-0 shadow-sm py-3 rounded-0">
        </div>

      </div>

      <div class="row mt-3">

        <!-- Milk -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Milk (Ltr)</label>
          <input type="number" step="0.01" name="milk" value="{{ old_cattle.milk }}" 
                 class="form-control border-0 shadow-sm py-3 rounded-0">
        </div>

        <!-- Purchase Amount -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Purchase Amount</label>
          <input type="number" name="purchase_amount" 
                 class="form-control border-0 shadow-sm py-3 rounded-0" required>
        </div>

        <!-- Purchase Date -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Purchase Date</label>
          <input type="date" name="purchase" value="{{ today|date:'Y-m-d' }}" 
                 class="form-control border-0 shadow-sm py-3 rounded-0" required>
        </div>

        <!-- Breeding -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Breeding</label>
          <select name="breeding" class="form-control border-0 shadow-sm py-3 rounded-0">
            <option value="Fresh" {% if old_cattle.breeding == "Fresh" %}selected{% endif %}>Fresh</option>
            <option value="Inseminated" {% if old_cattle.breeding == "Inseminated" %}selected{% endif %}>Inseminated</option>
            <option value="Pregnant" {% if old_cattle.breeding == "Pregnant" %}selected{% endif %}>Pregnant</option>
            <option value="Dry" {% if old_cattle.breeding == "Dry" %}selected{% endif %}>Dry</option>
          </select>
        </div>

      </div>

      <div class="row mt-3">

        <!-- Health Status -->
        <div class="col-lg-3">
          <label class="form-label fw-bold">Health Status</label>
          <select name="health_status" class="form-control border-0 shadow-sm py-3 rounded-0">
            {% for key, value in health_choices %}
              <option value="{{ key }}" {% if old_cattle.health_status == key %}selected{% endif %}>{{ value }}</option>
            {% endfor %}
          </select>
        </div>

      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-success px-4">Re-Enter Cattle</button>
        <a class="btn btn-primary px-4" href="{% url 'cattle_list' %}">Cattle List</a>
      </div>

    </form>

  </div>
</div>

</section>

        </div>
      </div>
    </div>
  </div>
</section>

</main>

<footer class="footer">
  <div class="copyright">
    Â© Copyright <strong>J N Roadlines LLP</strong> All Rights Reserved
  </div>
  <div class="credits">
    Designed by <strong>JTECH VENTURES</strong>
  </div>
</footer>

<a href="#" class="back-to-top d-flex align-items-center justify-content-center">
  <i class="bi bi-arrow-up-short"></i>
</a>

</body>
